install.packages(c('purrr','lubridate'))

library(tidyverse)
library(fixest)
library(ggstance)
library(vtable)
library(multcomp)
library(purrr)
library(lubridate)

#Reading in Google Trends Data
trends_files <- list.files(path = "the folder name" , pattern='trends_', full.names=TRUE)

trends_files %>% map_df(read_csv)

#Aggregating the Google Trends Data: 
    "Getting date data"
str_sub(monthorweek, end=10) #QUESTION:How can we get the string; if the files are already aggregated" 
ymd(monthorweek) 

  "If you want to aggregate the dates further,set units to 'month' "
floor_date(monthorweek, unit='month') 

  "Aggregating"
 trends_files %>% 
               group_by(sch_name) %>%
               group_by(keyword) %>% 
               mutate(index_id = mean(index)/sd(index))
 
               



